#!/bin/sh

mkdir -p ~/.config/alacritty ~/.config/dunst ~/.config/i3 ~/.config/picom ~/.config/polybar ~/.config/rofi

ln -s /usr/share/theom/config/alacritty/alacritty.toml ~/.config/alacritty/alacritty.toml
ln -s /usr/share/theom/config/dunst/dunstrc ~/.config/dunst/dunstrc
ln -s /usr/share/theom/config/i3/config ~/.config/i3/config
ln -s /usr/share/theom/config/picom/picom.conf ~/.config/picom/picom.conf

# Polybar
ln -s /usr/share/theom/config/polybar/config.ini ~/.config/polybar/config.ini
ln -s /usr/share/theom/config/polybar/launch.sh ~/.config/polybar/launch.sh

# Rofi
ln -s /usr/share/theom/config/rofi/config.rasi ~/.config/rofi/config.rasi
ln -s /usr/share/theom/config/rofi/colors.rasi ~/.config/rofi/colors.rasi

# Grant read/write permissions
chmod u+rw ~/.config/alacritty/alacritty.toml
chmod u+rw ~/.config/dunst/dunstrc
chmod u+rw ~/.config/i3/config
chmod u+rw ~/.config/picom/picom.conf
chmod u+rw ~/.config/polybar/config.ini
chmod u+rw ~/.config/polybar/launch.sh
chmod u+rw ~/.config/rofi/config.rasi
chmod u+rw ~/.config/rofi/colors.rasi

# Ensure user ownership
chown $USER:$USER ~/.config/alacritty/alacritty.toml
chown $USER:$USER ~/.config/dunst/dunstrc
chown $USER:$USER ~/.config/i3/config
chown $USER:$USER ~/.config/picom/picom.conf
chown $USER:$USER ~/.config/polybar/config.ini
chown $USER:$USER ~/.config/polybar/launch.sh
chown $USER:$USER ~/.config/rofi/config.rasi
chown $USER:$USER ~/.config/rofi/colors.rasi